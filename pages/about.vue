<template>
	<div class="text-white bg-black">
		<div class="relative w-screen overflow-hidden">
			<img src="@/assets/design/about1.png" alt="about1" class="object-cover w-full">
		
			<div class="absolute w-full transform -translate-x-1/2 -translate-y-1/2 top-[60%] left-[50%] text-center font-semibold">
				<p class="text-xl prometheus md:text-4xl lg:text-7xl md:mb-1 lg:mb-3">Think Ahead, </p>
				<p class="text-xl prometheus md:text-4xl lg:text-7xl">Challenge<span class="text-[#B91C1C]"> On</span> !</p>
			</div>
		</div>

		<div class="relative w-screen overflow-hidden mb-16 md:mb-64">
			<img src="@/assets/design/about2.png" alt="about1" class="object-cover w-full">
		
			<div class="absolute w-full transform -translate-x-1/2 -translate-y-1/2 top-[50%] left-[50%] text-center">
				<img src="@/assets/design/logo2.png" alt="logo2" class="object-cover mx-auto w-[20%] lg:w-[15%] mb-2 md:mb-6 lg:mb-8">
				<p class="text-xl md:text-3xl lg:text-5xl prometheus mb-6 md:mb-16 lg:mb-24">PROMETHEUS</p>
				<p class="text-xs md:text-lg lg:text-2xl detail tracking-wide mb-1 md:mb-2 lg:mb-3"><span class=" font-semibold">프로메테우스</span>는 먼저 생각하는 사람, <span class=" font-semibold">선구자</span>를 의미합니다.</p>
				<p class="text-xs md:text-lg lg:text-2xl detail tracking-wide mb-3 md:mb-3 lg:mb-4">선구자들의 가치 있는 도전을 통해 더 나은 세상을 만들어가고자 합니다.</p>
			</div>

			
		</div>
		<div class="mx-auto custom flex-row items-center pt-40 pb-24">
    <!-- 타이틀 -->
			<div class="mb-48">
				<p class="mx-auto text-center font-semibold prometheus text-lg md:text-3xl lg:text-5xl mb-10 md:mb-24 lg:mb-32">Our Vision</p>
				<img src="@/assets/design/about3.png" alt="about3" class="object-cover w-[90%] mx-auto mb-2 md:mb-6 lg:mb-8">
			</div>

			
			<div class="mb-48">
				<p class="mx-auto text-center font-semibold prometheus text-lg md:text-3xl lg:text-5xl mb-10 md:mb-24 lg:mb-32">Our History</p>
				<div class="flex flex-wrap w-[80%] mx-auto">
					<div class="w-[5%] h-48 border-t-2 detail border-[#5D0A04] flex flex-col justify-center">
					</div>
					<div class="relative w-[35%] h-56 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base mb-2">0기</p>
							<p class="text-xs font-light tracking-tight mb-2">2021. 4. 5.</p>
							<p class="text-xs font-light tracking-tight">프로메테우스 기획<br>초기 멤버 모집</p>
							<p class="text-xs font-light tracking-tight">동아리 방향성 선정</p>
						</div>
					</div>
					<div class="relative w-[25%] h-48 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base mb-2">1기</p>
							<p class="text-xs font-light tracking-tight mb-2">2022. 3. 3.</p>
							
						</div>
					</div>
					<div class="relative w-[25%] h-48 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base mb-2">교육봉사</p>
							<p class="text-xs font-light tracking-tight w-[200%] mb-3">2022. 7. 21. ~ 2022. 7. 27</p>
							
						</div>
					</div>
					<div class="w-[10%] relative h-60 flex flex-col justify-center">
						<div class="absolute top-0 -right-2 w-[130%] h-[100.8%] border-t-2 border-r-2 border-b-2 rounded-r-2xl border-[#5D0A04]">
						</div>
					</div>

					<div class="w-[5%] h-60 relative rounded-l-lg flex flex-col justify-center">
						<div class="absolute top-0 -left-2 w-[150%] h-[100.8%] border-t-2 border-l-2 border-b-2 rounded-l-2xl border-[#5D0A04]"></div>
					</div>
					<div class="relative w-[35%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base mb-2">3기</p>
							<p class="text-xs font-light tracking-tight mb-2">2023. 3. 5.</p>
						</div>
					</div>
					<div class="relative w-[45%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base w-[100%] mb-2">2023 Prometheus X StartUp<br>Hackathon</p>
							<p class="text-xs font-light tracking-tight mb-3">2022. 7. 21. ~ 2022. 7. 27</p>
							
						</div>
					</div>
					<div class="relative w-[5%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2 w-[200%]">
							<p class="font-semibold text-base mb-2">2기</p>
							<p class="text-xs font-light tracking-tight w-[200%] mb-2">2022. 9. 1.</p>
						</div>
					</div>
					<div class="w-[10%] h-48 detail border-[#5D0A04] flex flex-col justify-center">
					</div>
					<div class="w-[5%] h-48 detail border-[#5D0A04] flex flex-col justify-center">
					</div>
					<div class="relative w-[40%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base mb-2">교육봉사</p>
							<p class="text-xs font-light tracking-tight mb-3">2023. 7. 10. ~ 2022. 7. 22.</p>
							
						</div>
					</div>
					<div class="relative w-[20%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2 w-[200%]">
							<p class="font-semibold text-base mb-2">4기</p>
							<p class="text-xs font-light tracking-tight mb-2">2023. 9. 2.</p>
						</div>
					</div>
					<div class="relative w-[30%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base w-[120%] mb-2">2024 Prometheus AI <br>Hackathon</p>
							<p class="text-xs font-light tracking-tight w-[120%] mb-3">2024. 1. 22. ~ 2024. 2. 3.</p>
							
						</div>
					</div>
					<div class="w-[5%] relative h-60 flex flex-col justify-center">
						<div class="absolute top-0 -right-2 w-[150%] h-[100.8%] border-t-2 border-r-2 border-b-2 rounded-r-2xl border-[#5D0A04]">
						</div>
					</div>
					<div class="w-[5%] h-60 relative rounded-l-lg flex flex-col justify-center">
						<div class="absolute top-0 -left-2 w-[150%] h-[100.8%] border-t-2 border-l-2 border-b-2 rounded-l-2xl border-[#5D0A04]"></div>
					</div>
					<div class="relative w-[35%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base w-[200%] mb-2">내부 해커톤 </p>
							<p class="text-xs font-light tracking-tight mb-3">2024. 7. 14. ~ 2024. 7. 21.</p>

							
						</div>
					</div>
					<div class="relative w-[45%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base w-[200%] mb-2">교육봉사</p>
							<p class="text-xs font-light tracking-tight mb-3">2024. 7. 6. ~ 2024.7. 26</p>
							
						</div>
					</div>
					<div class="relative w-[10%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2 w-[200%]">
							<p class="font-semibold text-base mb-2">5기</p>
							<p class="text-xs font-light tracking-tight mb-2">2024. 3. 2.</p>
						</div>
					</div>
					<div class="w-[5%] h-48 detail border-[#5D0A04] flex flex-col justify-center">
					</div>
					<div class="w-[5%]  border-[#5D0A04] flex flex-col justify-center">
					</div>
					<div class="w-[5%] h-48 h-60 border-t-2 border-[#5D0A04] flex flex-col justify-center">
					</div>
					<div class="relative w-[40%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base mb-2">1st Prometheus <br>Demoday: Ignite</p>
							<p class="text-xs font-light tracking-tight mb-3">2024. 8. 24.</p>
							
						</div>
					</div>
					<div class="relative w-[20%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2 w-[200%]">
							<p class="font-semibold text-base mb-2">6기</p>
							<p class="text-xs font-light tracking-tight mb-2">2024. 9. 2.</p>
						</div>
					</div>
					<div class="relative w-[30%] h-60 border-t-2 border-[#5D0A04] flex flex-col">
						<div class="absolute -top-2 left-2 p-2 rounded-2xl shadow-[0_0_10px_2px_rgba(185,28,28,0.7),_0_0_20px_5px_rgba(185,28,28,0.5)] bg-[#B91C1C]"></div>
						<div class="mt-5 ml-2">
							<p class="font-semibold text-base w-[200%] mb-2">2nd Prometheus <br>Demoday(예정)</p>
							<p class="text-xs font-light tracking-tight mb-3">2024. 2. 8</p>
							
						</div>
					</div>
					
				</div>
			</div>
		</div>
				

	</div>
  
</template>

<script setup>
import projectImage from "@/assets/images/study.jpeg"
import studyImage from "@/assets/images/study.png"
import hackathonImage from "@/assets/images/hackathon.jpg"
import tutoringImage from "@/assets/images/tutoring.jpg"
import seminarImage from "@/assets/images/seminar.jpg"
import expoImage from "@/assets/images/expo.png"

import 'vue3-carousel/dist/carousel.css'
import { Carousel, Slide, Pagination, Navigation } from 'vue3-carousel'
	
import Taco from "@/assets/taco.mp3"



const currentTab = ref(-1)
const type = "members"

const playAudio = () => {
	const myAudio = new Audio(); // Aduio 객체 생성
	myAudio.src = Taco; // 음원 파일 설정
	myAudio.play();
}

// 반응성을 갖는 변수 정의
const itemsToShow = ref(3);

// 화면 크기를 감지하여 itemsToShow 값을 업데이트하는 함수
const updateItemsToShow = () => {
  // 화면 너비 가져오기
  const screenWidth = window.innerWidth;

  // 화면 크기에 따라 itemsToShow 값 설정
  if (screenWidth >= 1024) {
    itemsToShow.value = 4.2; // 대형 화면 (lg)
  } else if (screenWidth >= 768) {
    itemsToShow.value = 2.3; // 중형 화면 (md)
  } else {
    itemsToShow.value = 1.2; // 소형 화면 (sm)
  }
};


const intro = ref([
  {
    summary: "project",
    img: projectImage,
    title: "프로젝트",
    desc: "프로메테우스는 매 분기별, 인공지능의 다양한 분야를 주제로 팀별 프로젝트를 진행하고 있습니다.",
		on: false,
  },
  {
    summary: "hackathon",
    img: hackathonImage,
    title: "해커톤",
    desc: "프로메테우스는 인공지능 가치 창출 동아리로서 매년 초 'Prometheus AI Hackathon'을 개최합니다. 인공지능의 활용을 함께 고민하고 소통하여 미래 사회에 힘이 되고자합니다.",
		on: false,
  },
  {
    summary: "tutoring",
    img: tutoringImage,
    title: "교육 봉사",
    desc: "프로메테우스는 청소년들에게도 좋은 영향력을 주고 싶습니다. 고등학생들에게 프로그래밍, 인공지능이라는 좋은 도구를 가르쳐 학생들이 꿈꾸는 무언가에 도전하게 하고 싶습니다.",
		on: false,
  },
  {
    summary: "seminar",
    img: seminarImage,
    title: "정기 세미나",
    desc: "프로메테우스는 매달 한 번씩 정기세미나를 통하여 프로젝트 및 스터디 팀 별 현황을 공유하고 네트워킹을 위한 세미나 등을 진행합니다.",
		on: false,
  },
	{
    summary: "project",
    img: expoImage,
    title: "외부 활동",
    desc: "프로메테우스는 마음맞는 동아리원들과 자유롭게 박람회 견학 및 대외 공모전에 적극 참여하고 있습니다. 공모전 정보, 혜택, 행사가 있으면 동아리원들과 나눕니다.",
		on: false,
	},
	{
    summary: "study",
    img: studyImage,
    title: "기초스터디",
    desc: "프로메테우스는 인공지능 분야의 진입장벽을 낮추기 위해 기초 스터디를 매 기수를 대상으로 진행하고 있습니다.",
		on: false,
	}
])

const history = ref([
	{
		title: "0기",
		desc: ["프로메테우스를 기획하고 초기 멤버를 모집", "동아리 방향성 선정"],
		date: "2021. 4. 5."
	},
	{
		title: "1기",
		desc: [],
		date: "2022. 3. 3."
	},
	{
		title: "코딩 교육봉사",
		desc: [],
		date: "2022. 7. 21. ~ 2022.7. 27"
	},
	{
		title: "2기",
		desc: [],
		date: "2022. 9. 1."
	},
	{
		title: "2023 Prometheus X\n StartUp Hackathon 개최",
		desc: [],
		date: "2023. 2. 2. ~ 2023. 2. 25."
	},
	{
		title: "3기",
		desc: [],
		date: "2023. 3. 5."
	},
	{
		title: "코딩 교육봉사",
		desc: [],
		date: "2023. 7. 10. ~ 2023. 7. 22."
	},
	{
		title: "4기",
		desc: [],
		date: "2023. 9. 2."
	},
	{
		title: "2024 Prometheus AI Hackathon",
		desc: [],
		date: "2024. 1. 22. ~ 2024. 2. 3."
	},
	{
		title: "5기",
		desc: [""],
		date: "2024. 3. 2."
	},
	{
		title: "교육봉사",
		desc: ["정신여자고등학교 & 양재고등학교"],
		date: "2024. 7. 6. ~ 2024. 7. 26."
	},
	{
		title: "내부해커톤",
		desc: ["1st 내부해커톤"],
		date: "2024. 7. 14. ~ 2024. 7. 21."
	},
	{
		title: "데모데이",
		desc: ["(예정)"],
		date: "2024. 8. 24."
	},
])

const fillHistory = () => {
  const filledHistory = [];
  for (let i = 0; i < history.value.length * 2; i++) {
    if (i % 2 === 0) {
      filledHistory.push(history.value[Math.floor(i / 2)]);
    } else {
      filledHistory.push({
				title:" ",
				date:" ",
				desc:" ",
			});
    }
  }
  return filledHistory;
};

const filledHistory = fillHistory();


const members = ref([]);
const tabs = [
  { key: 0, name: '창립멤버'},
  { key: -1, name: '운영진'},
  { key: 1, name: '1기'},
  { key: 2, name: '2기'},
  { key: 3, name: '3기'},
	{ key: 4, name: '4기'},
	{ key: 5, name: '5기'}
];

const activeTab = ref(5);
	
	
const getMembers = async () => {
	try {
		const response = await $fetch(`${import.meta.env.VITE_API_URL}/member/show_all_members`, {
			method: 'GET',
			headers: { 'Content-Type': 'application/json' },
		});
		members.value = response;
	} catch (error) {
		console.error(error);
	}
};
	
const filteredMembers = computed(() => {
	members.value.sort((a, b) => a.name.localeCompare(b.name));
  if (activeTab.value === null) {
		return members.value;
	} else if (activeTab.value === -1) {
		const executiveMembers = members.value.filter((member) => member.executive === true);

    return executiveMembers.sort((a, b) => {
      const order = ["5기 대표", "5기 부대표", "5기 총무", "5기 개발부 부장", "5기 기획부 부장", "5기 홍보부 부장", "5기 개발부 차장", "5기 기획부 차장", "5기 홍보부 차장"];
      const getPositionIndex = (member) => order.indexOf(member.positions.slice(-1)[0]);
  		return getPositionIndex(a) - getPositionIndex(b);
    });
  }

  return members.value.filter((member) => member.gen == activeTab.value);
});

const setActiveTab = (tab) => {
	activeTab.value = activeTab.value === tab? null : tab;
};
	

onMounted(async () => {
  await getMembers();
	updateItemsToShow();
});

</script>


<style>
.custom {
	max-width: 960px;
}

.custom-padding {
	padding: 6.5rem;
}
</style>
